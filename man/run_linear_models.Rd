% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_linear_models.R
\name{run_linear_models}
\alias{run_linear_models}
\title{Fit a Linear or Mixed Effects Model with Optional Modifiers}
\arguments{
\item{data}{Your dataset containing the variables used in the model.}

\item{outcome}{A string or character vector specifying one or more outcome variables.}

\item{exposure}{A string or character vector specifying one or more exposure variables.}

\item{covariates}{A character vector of covariate names to adjust for.}

\item{effect_modifier}{A string specifying an effect modifier to interact with the exposure.}

\item{sensitivity_cov}{A character vector of sensitivity covariates.}

\item{random_effects}{A string specifying the random effects structure (e.g., "(1 | group)").}

\item{p_values}{Logical. If TRUE (default), uses lmerTest to compute p-values for mixed models. If FALSE, uses lme4 without p-values.}
}
\value{
A list containing model results. If multiple outcomes or exposures are provided, returns a named list of results.
}
\description{
This function fits a linear model (`lm`) or a mixed effects model (`lmer`) depending on the presence of random effects. It supports interaction terms, sensitivity covariates, and returns a tidy summary of the model. Users can choose whether to compute p-values for mixed models. It also supports looping over multiple outcomes and exposures.
}
\examples{
# Examples

data <- mtcars

# 1. Run a single model with one outcome and one exposure
run_linear_models(data = data,
                  outcome = "mpg",
                  exposure = "cyl")

# 2. Store the output for a single model
model_output <- run_linear_models(data = data,
                                  outcome = "mpg",
                                  exposure = "cyl")
model_output$tidy  # access tidy results

# 3. Store output for multiple outcomes and exposures
multi_output <- run_linear_models(data = data,
                                  outcome = c("mpg", "hp"),
                                  exposure = c("cyl", "wt"))
multi_output[["mpg&cyl"]]$tidy  # access a specific model's tidy results

# 4. Use named vectors for outcomes and exposures
outcomes <- set_names(c("mpg", "hp"))
exposures <- set_names(c("cyl", "wt"))
named_output <- run_linear_models(data = data,
                                  outcome = outcomes,
                                  exposure = exposures)
named_output[["hp&wt"]]$tidy

# 5. Include covariates directly
covar_output <- run_linear_models(data = data,
                                  outcome = "mpg",
                                  exposure = "cyl",
                                  covariates = c("wt", "hp"))
covar_output$tidy

# 6. Include covariates using a named vector
covars <- set_names(c("wt", "hp"))
named_covar_output <- run_linear_models(data = data,
                                        outcome = "mpg",
                                        exposure = "cyl",
                                        covariates = covars)
named_covar_output$tidy

# 7. Include an effect modifier (e.g., interaction term)
interaction_output <- run_linear_models(data = data,
                                        outcome = "mpg",
                                        exposure = "cyl",
                                        effect_modifier = "am")
interaction_output$tidy

}
